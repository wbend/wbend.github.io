<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Film Recommendations</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Film Recommendations</h1>

        <div class="section">
            <h2>Get Recommendation</h2>
            <div class="button-container">
                <button onclick="recommendRandom()">Random Film</button>
                <select id="genreSelect" onchange="recommendByGenre()" class="mobile-friendly-select">
                    <option value="">Select Genre</option>
                </select>
            </div>
            <div id="recommendedMovie"></div>
        </div>

        <div class="section">
            <h2>Add New Film</h2>
            <form class="add-movie-form" onsubmit="addMovie(event)">
                <div class="form-grid">
                    <input type="text" id="title" placeholder="Title" required class="mobile-friendly-input">
                    <input type="text" id="director" placeholder="Director" class="mobile-friendly-input">
                    <input type="number" id="year" placeholder="Year" class="mobile-friendly-input">
                    <div class="genre-input-container">
                        <input type="text" id="genre" class="genre-input mobile-friendly-input" placeholder="Enter or select genre" required>
                        <div class="genre-suggestions" id="genreSuggestions"></div>
                    </div>
                </div>
                <button type="submit">Add Film</button>
            </form>
            <div id="addSuccess" class="success-message"></div>
            <div id="addError" class="error-message"></div>
        </div>

        <div class="section">
            <h2>Rate and Archive Film</h2>
            <div class="search-container">
                <input type="text" id="movieSearch" class="search-input mobile-friendly-input" placeholder="Search for a film or add new...">
                <div id="searchResults" class="search-results"></div>
            </div>
            <div id="ratingOptions" style="display: none;">
                <div class="star-rating">
                    <span onclick="rateMovie(1)">★</span>
                    <span onclick="rateMovie(2)">★</span>
                    <span onclick="rateMovie(3)">★</span>
                    <span onclick="rateMovie(4)">★</span>
                    <span onclick="rateMovie(5)">★</span>
                </div>
            </div>
            <div id="rateSuccess" class="success-message"></div>
            <div id="rateError" class="error-message"></div>
        </div>

        <div class="section">
            <h2>Watched Movies</h2>
            <button onclick="loadWatchedMovies()" class="secondary-button">Load Watched Movies</button>
            <div id="watchedMovies" class="watched-movies-container"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="app.js"></script>
</body>
</html>